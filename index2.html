<!DOCTYPE html>
<html lang="ro">

<!-- Api pentru valuare: https://exchangeratesapi.io/
    Features:
    - Imagini ale bancnotelor
    - lista cu preturi
    - convertor 

    Locatia
    file:///D:/Programing/WEB%20DEVELOPMENT/JavaScript/expoloandy90.github.io/index2.html
-->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <meta name="theme-color" content="#ff6600" />
    <title>Schimb valutar</title>
    <link rel="icon" type="image/png" href="favicon.ico"/>
    <link rel="stylesheet" href="css/google-icons-proprieties.css">
    <link rel="stylesheet" href="css/fonts.css">
    <!-- <link rel="stylesheet" href="css/main.css"> -->
    <link rel="stylesheet" href="css/main2.css">
    <link rel="stylesheet" href="css/background.css">
    <link rel="stylesheet" href="javascript/menu.js">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    
    <h1 style="text-align:center">Schimb Valutar</h1>

    <div class="navbar">
        <a href="#">Acasa</a>
        <a href="#">Lista</a>
        <a href="#">Schimb valuta</a>
        <a href="#">Info</a>
    </div>

    <div class="content">
        <table id="myTable">
            <tr>
                <th>Moneda</th>
                <th>Pret</th>
            </tr>
        </table>
    </div>
    
    <script>
        // Create a request variable and assign a new XMLHttpRequest object to it.
        var request = new XMLHttpRequest()
        var table = document.getElementById("myTable");
        var currentcy = ["RON", "USD", "BGN", "RUB", "CAD", "JPY", "CHF", "TRY", "HRK", "NOK", "DKK", "CZK", "HUF", "GBP", "ISK", "PLN", "SEK"];

        // Open a new connection, using the GET request on the URL endpoint
        request.open('GET', 'https://api.exchangeratesapi.io/latest?base=EUR', true)

        request.onload = function () {
            // Begin accessing JSON data here
            var data = JSON.parse(this.response);
            var table = document.getElementById("myTable");
            for(var i=0; i<currentcy.length; i++){
                var row = table.insertRow(table.rows.length);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = currentcy[i];
                cell2.innerHTML = data.rates[currentcy[i]];
            }
            
            console.log(data.base);
            console.log(data.rates.RON);
        }
        // Send request
        request.send();

        
    </script>
</body>

</html>